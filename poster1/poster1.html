<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">


<!--
Font-awesome icons ie github or twitter
-->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/brands.css" integrity="sha384-n9+6/aSqa9lBidZMRCQHTHKJscPq6NW4pCQBiMmHdUCvPN8ZOg2zJJTkC7WIezWv" crossorigin="anonymous">

<!--
Google fonts api stuff
-->
<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
<link href='https://fonts.googleapis.com/css?family=Palestiano' rel='stylesheet'>



<title>Topic Modelling and Sentimental Analysis for Tragedies by William Shakespeare</title>




<style type="text/css">pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */</style>

<style>
@page {
size: 45in 38in;
margin: 0;
padding: 0;
}
body {
margin: 0;
font-size: 45px;
width: 45in;
height: 38in;
padding: 0;
text-align: justify;
font-family: Roboto;
}
.poster_wrap {
width: 45in;
height: 38in;
padding: 0cm;
}
.title_container {
width: 45in;
height: calc(38in * 0.15);
overflow: hidden;
background-color: #9c5608;
border: 0 solid #0b4545;
}
.logo_left {
float: left;
width: 10%;
height: 100%;
background-color: #9c5608;
display: flex;
align-items: center;
justify-content: center;
}
.logo_right {
float: right;
width: 10%;
height: 100%;
background-color: #9c5608;
display: flex;
align-items: center;
justify-content: center;
}
.poster_title {
text-align: center;
position: relative;
float: left;
width: 80%;
height: 100%;
color: #FFFFFF;
top: 50%;
transform: translateY(-50%);
-webkit-transform: translateY(-50%);
}
#title {
font-family: Palestiano;
}
/* unvisited link */
a:link {
color: #cc0000;
}
.mybreak {
  break-before: column;
}
/* visited link */
a:visited {
color: #cc0000;
}

/* mouse over link */
a:hover {
color: #cc0000;
}

/* selected link */
a:active {
color: #cc0000;
}
.poster_body {
-webkit-column-count: 3; /* Chrome, Safari, Opera */
-moz-column-count: 3; /* Firefox */
column-count: 3;
-webkit-column-fill: auto;
-moz-column-fill: auto;
column-fill: auto;
-webkit-column-rule-width: 1mm;
-moz-column-rule-width: 1mm;
column-rule-width: 1mm;
-webkit-column-rule-style: dashed;
-moz-column-rule-style: dashed;
column-rule-style: dashed;
-webkit-column-rule-color: #9c5608;
-moz-column-rule-color: #9c5608;
column-rule-color: #9c5608;
column-gap: 1em;
padding-left: 0.5em;
padding-right: 0.5em;
height: 100%;
color: #000000
background-color: #ffffff;
}
.poster_title h1 {
font-size: 75pt;
margin: 0;
border: 0;
font-weight: normal;
}
.poster_body_wrap{
width: calc(45in + 0 + 0);
height: calc(38in * 0.83);
padding-top: calc(38in * 0.005);
padding-bottom: calc(38in * 0.01);
background-color: #ffffff;
}
.poster_title h3 {
color: #ffffff;
font-size: 50pt;
margin: 0;
border: 0;
font-weight: normal;
}
.poster_title h3 > sup {
  font-size: 35pt;
  margin-left: 0.02em;
}
.poster_title h5 {
color: #FFFFFF;
font-size: 35pt;
margin: 0;
border: 0;
font-weight: normal;
}
img {
margin-top: 2cm;
margin-bottom: 0;
}
.section {
  padding: 0.2em;
}
.poster_body h1 {
text-align: center;
color: #FFFFFF;
font-size: 65pt;
border: 2mm solid #9c5608;
background-color: #9c5608;
border-radius: 4mm 0mm;
margin-top: 2mm;
margin-bottom: 2mm;
font-weight: normal;
}
.poster_body h2 {
color: #000000;
font-size: 40pt;
padding-left: 4mm;
font-weight: normal;
}
.span {
width: 200%;
}
/* center align leaflet map,
from https://stackoverflow.com/questions/52112119/center-leaflet-in-a-rmarkdown-document */
.html-widget {
margin: auto;
position: sticky;
margin-top: 2cm;
margin-bottom: 2cm;
}
.leaflet.html-widget.html-widget-static-bound.leaflet-container.leaflet-touch.leaflet-fade-anim.leaflet-grab.leaflet-touch-drag.leaflet-touch-zoom {
position: sticky;
width: 100%;
}
pre.sourceCode.r {
background-color: #dddddd40;
border-radius: 4mm;
padding: 4mm;
width: 75%;
/* align-items: center; */
margin: auto;
padding-left: 2cm;
}
code.sourceCode.r{
background-color: transparent;
font-size: 20pt;
border-radius: 2mm;
}
.caption {
font-size: 25pt;
}
.table caption {
font-size: 25pt;
padding-bottom: 3mm;

}
code {
font-size: 1em;
font-family: monospace;
background-color: #00808024;
color: #9c5608;
padding: 1.2mm;
border-radius: 2mm;
}
.poster_title code {
font-size: 1em;
}
table {
font-size: 40px;
margin: auto;
border-top: 3px solid #666;
border-bottom: 3px solid #666;
}
table thead th {
border-bottom: 3px solid #ddd;
}
td {
padding: 8px;
}
th {
padding: 15px;
}
caption {
margin-bottom: 10px;
}
.poster_body p {
margin-right: 4mm;
margin-left: 4mm;
margin-top: 6mm;
margin-bottom: 10mm;
}
.poster_body ol {
margin-right: 4mm;
margin-left: 4mm;
}
#ul {
margin-right: 4mm;
margin-left: 4mm;
}
.references p {
font-size: 20pt;
}
.orcid img {
  width: 1em;
}
</style>
</head>
<body>


<div class="poster_wrap">
<div class="title_container">
<!-- Left Logo  -->
<div class="logo_left">
<img src= 'https://raw.githubusercontent.com/hieutrn1205/sentiment/main/lehmancollege.png' style="width: 80%">
</div>
<!-- Poster Title -->
<div class= "poster_title">
<h1 id="title">Topic Modelling and Sentimental Analysis for Tragedies by William Shakespeare</h1>
<h3 id="author">Hieu Tran<sup>1</sup></h3><br>
<h5 id="affiliation"><sup>1</sup> Graduating with BS of CIS and minoring in Data Science, Lehman College</h5>
</div>
<!-- Right Logo  -->
<div class="logo_right">
<img src=https://raw.githubusercontent.com/hieutrn1205/sentiment/main/cuny.png style="width: 80%">
</div>
</div>

<div class='poster_body_wrap'>
<div class='poster_body'>
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>Welcome to my poster research. In this research I used NLP techniques and plain text dataset in order to topic model and analyze the sentiments throughout each plays, specifically tragedies in the <code>Shakespeare's complete works</code> that from Gutenberg’s website.</p>
</div>
<div id="objectives" class="section level1">
<h1>Objectives</h1>
<ol style="list-style-type: decimal">
<li>Determine the tragedy plays whether negative or not.</li>
<li>Will the topic of this play also be a topic of another play.</li>
<li>If they have the same topic, the words in the plays are the same or not.</li>
<li>Which sentimental of words that Shakespeare were using the most</li>
</ol>
</div>
<div id="methods" class="section level1">
<h1>Methods</h1>
<p>Using tidyverse package and multiple techniques to preprocess the dataset. First, I subset the lines for contents of the books, and deselected it from the original dataset. Second, I used the regex techniques in order to clean out the redundant text lines and character’s names. Third, I find the line of each plays by its name and those lines are first line of each plays. How can I identify accurately the whole section of each plays? I used the grep function which will “delay” 1 line for each new play. Basically, the first line of the new plays - 1 line will be the last line of previous plays. After I have first line and last line of each plays, I kept continuing on cleaning the dataset by removing the stopwords and stemming of each words. After the dataset is preprocessed, I tokenized the text into individual words. Then, I looked at tf which is term frequency of each words in each plays. Fourth, I moved to the next step is topic modelling, after looked at multiple k, I considered the best k for my dataset is 7. After I got the topic modelling for each plays based on machine learning of the tf in each plays.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>cleaned_william <span class="ot">&lt;-</span> william[<span class="dv">58</span><span class="sc">:</span><span class="fu">nrow</span>(william), ] <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">reg_ex =</span>  </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sub</span>(<span class="st">&quot;[A-Z ]*</span><span class="sc">\\</span><span class="st">.&quot;</span>, <span class="st">&quot;&quot;</span>, text))</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>cleaned_william <span class="ot">&lt;-</span> cleaned_william <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">reg_ex =</span> <span class="fu">sub</span>(<span class="st">&quot;(</span><span class="sc">\\</span><span class="st">[.*?</span><span class="sc">\\</span><span class="st">])&quot;</span>, <span class="st">&quot;&quot;</span>, reg_ex))</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>cleaned_william<span class="sc">$</span>reg_ex[<span class="fu">grep</span>(<span class="st">&quot;Enter&quot;</span>, cleaned_william<span class="sc">$</span>reg_ex, <span class="at">fixed =</span> <span class="cn">TRUE</span>)] <span class="ot">&lt;-</span> <span class="st">&quot;&quot;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>chapter <span class="ot">&lt;-</span> william[<span class="dv">10</span><span class="sc">:</span><span class="dv">53</span>,<span class="dv">2</span>]</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>chapter <span class="ot">&lt;-</span> <span class="fu">pull</span>(chapter, text) <span class="sc">|&gt;</span> <span class="fu">trimws</span>()</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>cleaned_chapter <span class="ot">&lt;-</span> <span class="fu">lapply</span>(chapter, grep, cleaned_william<span class="sc">$</span>text, <span class="at">fixed =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>first_line <span class="ot">&lt;-</span> <span class="fu">integer</span>()</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(cleaned_chapter)){</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>     first_line[[i]] <span class="ot">&lt;-</span> cleaned_chapter[[i]][<span class="dv">1</span>]}</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>last_line <span class="ot">&lt;-</span> Hmisc<span class="sc">::</span><span class="fu">Lag</span>(first_line, <span class="at">shift =</span><span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>last_line <span class="ot">&lt;-</span> last_line <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>last_line[<span class="dv">44</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(cleaned_william)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>chapter_n <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(first_line, last_line, chapter)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>cleaned_william<span class="sc">$</span>play <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(chapter_n)){</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  cleaned_william[chapter_n<span class="sc">$</span>first_line[i]<span class="sc">:</span>chapter_n<span class="sc">$</span>last_line[i], <span class="dv">4</span>] <span class="ot">&lt;-</span> chapter_n<span class="sc">$</span>chapter[i]}</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>cleaned_william <span class="ot">&lt;-</span> cleaned_william <span class="sc">|&gt;</span> <span class="fu">group_by</span>(play) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">linenumber =</span> <span class="fu">row_number</span>()) <span class="sc">|&gt;</span> <span class="fu">ungroup</span>()</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>stop_words <span class="ot">&lt;-</span> stop_words <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>lexicon)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>stop_words <span class="ot">&lt;-</span> <span class="fu">rbind</span>(stop_words, new_words)</span></code></pre></div>
</div>
<div id="results" class="section level1">
<h1>Results</h1>
<p>The result generated was predictable because based on the context of the plays, you would find the similarity of these tragedies “The tragedy of Julius Caesar” and “The tragedy of Cleopatra and Cleopatra”, “The tragedy of Coriolanus” and “The tragedy of Titus Andronicus”. The connection of these plays are obvious if you have read them. The heatmap on words assigned was brought me in the curiosity because when you looked at the plays, the play some how has lower than 50% of the words came from itself. For the symmetric similarity of words for the four tragedies I have mentioned, it could be the words assigned from this and other are the same because they are connected to each others. From the previous research of many scholars, their output were Shakespeare’s style slightly to be negative writer. After I generated the word cloud and I acknowledged that he used positive words more than negative words based on bing model of sentimental analysis.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:top-terms"></span>
<img src="poster1_files/figure-html/top-terms-1.png" alt="Topic Modelling" width="80%" />
<p class="caption">
Figure 1: Topic Modelling
</p>
</div>
</div>
<div id="next-steps" class="section level1">
<h1>Next Steps</h1>
<p>I used the techniques in the Text Mining in R, which is looked at the similarity of words through the plays. This step will strengthen the output of topic modelling generated. Finally, I used sentimental analysis technique to look at each plays and get insight through it, then I generated the sentimental trend word cloud for the whole book.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:word-assigned"></span>
<img src="poster1_files/figure-html/word-assigned-1.png" alt="Words Assigned" width="80%" />
<p class="caption">
Figure 2: Words Assigned
</p>
</div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:word-cloud"></span>
<img src="poster1_files/figure-html/word-cloud-1.png" alt="Sentimental Analysis" width="80%" />
<p class="caption">
Figure 3: Sentimental Analysis
</p>
</div>
</div>
<div id="conclusion" class="section level1">
<h1>Conclusion</h1>
<p>The tragedies’s tone are not essentially negative. Because by the word cloud, I can say that Shakespeare’s style of using words is not deeply negative as the scholars had conducted research on his works before. Some of the plays have the connection to each other by sharing the same topic and words assigned are similar.</p>
</div>
<div id="references" class="section level1 unnumbered">
<h1>References</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-R-rmarkdown" class="csl-entry">
Bouchet-Valat, Milan. 2023. <em>SnowballC</em>.<a href="	https://github.com/nalimilan/R.TeMiS"> https://github.com/nalimilan/R.TeMiS</a>.
</div>
<div id="ref-R-knitr" class="csl-entry">
David Robinson, Julia Silge &amp;. 2016. <em>Text Mining with r</em>. <a href="https://www.tidytextmining.com/">https://www.tidytextmining.com/</a>.
</div>
<div id="ref-R-pagedown" class="csl-entry">
Hart, Michael S. 1971. <em>Project Gutenberg</em>. <a href="https://www.gutenberg.org/">https://www.gutenberg.org/</a>.
</div>
<div id="ref-R-posterdown" class="csl-entry">
Wickham, Hadley. 2019. <em>Tidyverse Packages</em>. <a href="https://github.com/brentthorne/posterdown">https://github.com/brentthorne/posterdown</a>.
</div>
</div>
</div>
</div>
</div>

</div>



</body>
</html>
